#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω–æ–≥–æ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

cd "/Users/aleksandrbojko/Documents/LAppka (–ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º, –∫–æ–ø–∏—è –º–∞–∫)"

echo "üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è..."
echo ""

# –£–¥–∞–ª–∏—Ç—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—É—é –ø–∞–ø–∫—É .git
if [ -d ".git" ]; then
    echo "–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω–æ–π –ø–∞–ø–∫–∏ .git..."
    if rm -rf .git 2>/dev/null; then
        echo "‚úÖ –ü–∞–ø–∫–∞ .git —É–¥–∞–ª–µ–Ω–∞"
    else
        echo "‚ö†Ô∏è  –¢—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è..."
        sudo rm -rf .git
        echo "‚úÖ –ü–∞–ø–∫–∞ .git —É–¥–∞–ª–µ–Ω–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"
    fi
fi

echo ""
echo "–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è..."
echo "‚ö†Ô∏è  –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –æ—à–∏–±–∫–∞ 'Operation not permitted', –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –¢–µ—Ä–º–∏–Ω–∞–ª–µ:"
echo "   sudo git init"
echo "   sudo chown -R \$(whoami) .git"
echo ""

# –ü–æ–ø—ã—Ç–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ sudo
if git init 2>/dev/null; then
    echo "‚úÖ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω!"
    git branch -M main
    echo "‚úÖ –í–µ—Ç–∫–∞ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –≤ main"
else
    echo "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"
    echo ""
    echo "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –¢–µ—Ä–º–∏–Ω–∞–ª–µ:"
    echo "  cd \"/Users/aleksandrbojko/Documents/LAppka (–ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º, –∫–æ–ø–∏—è –º–∞–∫)\""
    echo "  sudo git init"
    echo "  sudo chown -R \$(whoami) .git"
    echo "  git branch -M main"
    exit 1
fi

echo ""
echo "‚úÖ –ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:"
echo "  git add ."
echo "  git commit -m 'Initial commit: –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ Streamlit'"
echo "  git remote add origin https://github.com/bagladin/LAppka.git"
echo "  git push -u origin main"
